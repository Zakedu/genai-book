# Chapter 3: 효과적인 프롬프트의 구조

!!! abstract "학습 목표"
    - 프롬프트의 5요소 프레임워크를 이해하고 적용할 수 있다
    - 모호한 프롬프트를 구조화된 프롬프트로 개선할 수 있다
    - 좋은 프롬프트와 나쁜 프롬프트의 차이를 명확히 구분할 수 있다
    - 다양한 상황에 맞는 프롬프트를 설계할 수 있다

---

## 1. 프롬프트란 무엇인가

### 정의

**프롬프트(Prompt)**란 생성형 AI에게 전달하는 입력 텍스트입니다. 사용자의 의도를 AI에게 전달하는 **명령어이자 소통 수단**입니다.

!!! tip "핵심 원리"
    AI는 프롬프트에 포함된 정보만을 기반으로 응답합니다. 프롬프트에 없는 맥락은 AI가 알 수 없습니다.

### 프롬프트의 중요성

| 프롬프트 품질 | 결과 품질 |
|--------------|----------|
| 모호하고 짧음 | 일반적이고 피상적인 답변 |
| 구체적이고 구조화됨 | 맞춤형이고 실용적인 답변 |

!!! quote "OpenAI 공식 가이드"
    "프롬프트가 더 구체적이고 상세할수록 더 나은 결과를 얻습니다."[^1]

---

## 2. 프롬프트의 5요소 프레임워크

효과적인 프롬프트는 다음 5가지 요소를 포함합니다.

### 프레임워크 개요

| 요소 | 영문 | 핵심 질문 |
|------|------|----------|
| 맥락 | Context | "어떤 배경에서" |
| 역할 | Persona | "누가" |
| 과업 | Task | "무엇을" |
| 제약 | Constraints | "어떤 조건으로" |
| 형식 | Format | "어떤 형태로" |

### 각 요소 상세 설명

#### 1) Context (맥락)

**정의**: 요청의 배경 상황과 목적을 설명합니다.

| 요소 | 설명 | 예시 |
|------|------|------|
| 상황 | 현재 처한 상황 | "분기 보고서를 준비 중입니다" |
| 목적 | 결과물의 용도 | "임원 회의에서 발표할 예정입니다" |
| 대상 | 결과물의 수신자 | "비기술직 임원들이 볼 것입니다" |

#### 2) Persona (역할)

**정의**: AI가 어떤 전문가의 관점에서 답변할지 지정합니다.

| 역할 유형 | 효과 | 예시 |
|----------|------|------|
| 전문가 | 깊이 있는 분석 | "당신은 10년 경력의 마케팅 전문가입니다" |
| 교육자 | 이해하기 쉬운 설명 | "당신은 초등학교 선생님입니다" |
| 비평가 | 비판적 피드백 | "당신은 엄격한 편집자입니다" |

!!! warning "역할 부여의 한계"
    역할 부여는 답변의 **스타일과 관점**을 조절하지만, AI에게 **실제 전문 지식을 부여하지는 않습니다**. 팩트체킹은 여전히 필수입니다.

#### 3) Task (과업)

**정의**: AI에게 수행을 요청하는 구체적인 작업입니다.

**좋은 Task의 조건**:

- [ ] 하나의 명확한 동사로 시작 (작성하다, 분석하다, 비교하다)
- [ ] 구체적인 대상 명시
- [ ] 측정 가능한 결과물 정의

#### 4) Constraints (제약 조건)

**정의**: 결과물의 범위와 한계를 설정합니다.

| 제약 유형 | 예시 |
|----------|------|
| 길이 | "500자 이내로", "3문단으로" |
| 톤 | "공식적인 어조로", "친근하게" |
| 포함/제외 | "숫자 데이터 포함", "전문 용어 배제" |
| 관점 | "긍정적 측면만", "반대 의견도 포함" |

#### 5) Format (형식)

**정의**: 결과물의 구조와 출력 형태를 지정합니다.

| 형식 | 적합한 용도 |
|------|------------|
| 글머리 기호 | 목록, 요약 |
| 번호 매기기 | 단계별 가이드, 순위 |
| 표 | 비교, 데이터 정리 |
| 대화체 | 스크립트, FAQ |
| 마크다운 | 문서, 보고서 |

---

## 3. 5요소 적용 공식

### 기본 템플릿

```
[Context]
나는 ~한 상황에 있고, ~를 위해 필요합니다.

[Persona]
당신은 ~한 전문가입니다.

[Task]
~를 ~해주세요.

[Constraints]
- 길이: ~
- 톤: ~
- 포함할 것: ~
- 제외할 것: ~

[Format]
~의 형식으로 작성해주세요.
```

### 실제 적용 예시

=== "❌ Before (나쁜 프롬프트)"

    ```
    이메일 써줘
    ```

=== "✅ After (좋은 프롬프트)"

    ```
    [Context]
    나는 스타트업 마케팅 담당자입니다.
    3개월간 연락이 없던 잠재 고객에게
    다시 연락하려고 합니다.

    [Persona]
    당신은 B2B 영업 전문가입니다.

    [Task]
    팔로우업 이메일을 작성해주세요.

    [Constraints]
    - 길이: 200자 이내
    - 톤: 친근하지만 전문적
    - 너무 공격적이지 않게
    - 명확한 Call-to-Action 포함

    [Format]
    제목 + 본문 형식으로
    ```

---

## 4. 명확성의 원칙

### 원칙: 모호함이 오류를 만든다

AI는 모호한 요청에 대해 **가정(assumption)**을 합니다. 이 가정이 사용자의 의도와 다르면 원하지 않는 결과가 나옵니다.

### 모호함의 유형과 해결

| 모호함 유형 | 나쁜 예 | 좋은 예 |
|------------|--------|--------|
| 대상 불명확 | "글 써줘" | "20대 직장인 대상 블로그 글 써줘" |
| 범위 불명확 | "요약해줘" | "핵심 3가지만 요약해줘" |
| 기준 불명확 | "좋은 것 추천해줘" | "가성비 기준으로 추천해줘" |
| 형식 불명확 | "정리해줘" | "표 형식으로 정리해줘" |

### 명확성 체크리스트

프롬프트 작성 후 다음을 확인하세요:

- [ ] **누가** 사용할 결과물인가?
- [ ] **무엇을** 원하는가? (동사가 명확한가?)
- [ ] **얼마나** 원하는가? (길이, 개수)
- [ ] **어떤 형태**로 원하는가?
- [ ] **무엇을 포함/제외**해야 하는가?

---

## 5. 제약 조건의 힘

### 원칙: 제약이 품질을 높인다

역설적으로, **제약 조건을 추가할수록** 결과물의 품질이 향상됩니다.

### 제약 조건의 효과

**제약 조건과 결과 품질**

| 제약 수준 | 결과 유형 |
|----------|----------|
| 제약 없음 | 일반적 결과 |
| 제약 추가 (길이, 톤, 형식, 포함/제외) | 맞춤형 결과 |

### 효과적인 제약 조건 예시

| 목적 | 제약 조건 |
|------|----------|
| 간결한 답변 | "3문장 이내로 답변하세요" |
| 전문적 톤 | "학술 논문 스타일로 작성하세요" |
| 구조화된 출력 | "각 항목에 번호를 매겨주세요" |
| 특정 관점 | "반대 의견도 함께 제시하세요" |
| 실용성 강화 | "구체적인 예시를 포함하세요" |

---

## 6. Before/After 사례 분석

### 사례 1: 논문 요약

<div class="comparison" markdown>
<div class="comparison-before" markdown>
**❌ Before**
```
이 논문 요약해줘
```
*문제: 요약의 깊이, 형식, 대상이 불명확*
</div>
<div class="comparison-after" markdown>
**✅ After**
```
첨부한 논문에 대해:
1. 연구 질문
2. 방법론
3. 주요 발견
4. 한계점
을 각각 2-3문장으로 요약해주세요.
비전문가도 이해할 수 있는 언어로 
작성해주세요.
```
</div>
</div>

### 사례 2: 코드 디버깅

<div class="comparison" markdown>
<div class="comparison-before" markdown>
**❌ Before**
```
이 코드 고쳐줘
```
*문제: 어떤 문제인지, 원하는 동작이 무엇인지 불명확*
</div>
<div class="comparison-after" markdown>
**✅ After**
```
[Context]
Python으로 CSV 파일을 읽어 
월별 매출을 계산하는 코드입니다.

[문제]
14번째 줄에서 KeyError가 발생합니다.

[기대 동작]
월별 매출 합계가 출력되어야 합니다.

[요청]
1. 오류 원인을 설명하고
2. 수정된 코드를 제시하고
3. 왜 그렇게 수정했는지 설명해주세요.
```
</div>
</div>

### 사례 3: 비즈니스 이메일

<div class="comparison" markdown>
<div class="comparison-before" markdown>
**❌ Before**
```
사과 이메일 써줘
```
*문제: 상황, 대상, 톤이 모두 불명확*
</div>
<div class="comparison-after" markdown>
**✅ After**
```
[상황]
배송이 3일 지연되어 
고객에게 사과 이메일을 보내야 합니다.

[대상]
B2B 기업 고객 (담당자급)

[포함 내용]
- 진심 어린 사과
- 지연 사유 (간략히)
- 보상 제안 (10% 할인 쿠폰)
- 향후 재발 방지 약속

[톤]
공식적이지만 인간적인

[길이]
150-200자
```
</div>
</div>

### 사례 4: 아이디어 브레인스토밍

<div class="comparison" markdown>
<div class="comparison-before" markdown>
**❌ Before**
```
마케팅 아이디어 알려줘
```
*문제: 대상, 예산, 목표가 없음*
</div>
<div class="comparison-after" markdown>
**✅ After**
```
[Context]
20대 여성 대상 스킨케어 브랜드입니다.
예산: 월 500만원
목표: 인스타그램 팔로워 증가

[Task]
마케팅 캠페인 아이디어 5개를 
제안해주세요.

[각 아이디어에 포함할 것]
- 캠페인명
- 핵심 컨셉
- 예상 비용
- 기대 효과
- 실행 난이도 (상/중/하)

[Format]
표 형식으로 정리
```
</div>
</div>

---

## 7. 적용 지침

### 단계별 프롬프트 작성 가이드

| 단계 | 작업 | 핵심 질문 |
|------|------|----------|
| Step 1 | 목적 정의 | "내가 원하는 것은 무엇인가?" |
| Step 2 | 맥락 설정 | "AI가 알아야 할 배경은?" |
| Step 3 | 역할 지정 (선택) | "어떤 관점의 답변이 필요한가?" |
| Step 4 | 제약 조건 설정 | "길이, 톤, 형식의 기준은?" |
| Step 5 | 검토 및 수정 | "모호한 부분은 없는가?" |

### 자주 하는 실수

!!! danger "피해야 할 실수들"
    
    1. **너무 짧은 프롬프트**: "요약해줘" → 맥락과 기준 추가 필요
    2. **여러 작업 한 번에**: 한 프롬프트에 여러 요청 → 작업 분리
    3. **모호한 형용사**: "좋은", "적절한" → 구체적 기준 제시
    4. **형식 미지정**: 결과물 형태 불명확 → 명시적 형식 요청

---

## 핵심 정리

!!! abstract "이 챕터의 핵심 포인트"
    1. **프롬프트 5요소**: Context, Persona, Task, Constraints, Format
    2. **명확성 원칙**: 모호함은 오류를 만든다 → 구체적으로 작성
    3. **제약 조건**: 역설적으로 제약이 많을수록 품질이 높아짐
    4. **Before/After 분석**: 나쁜 프롬프트를 좋은 프롬프트로 개선하는 연습
    5. **체크리스트 활용**: 작성 후 모호함 여부 점검

---

## 생각해볼 질문

!!! question "토론 질문"
    
    1. 5요소 중 가장 중요한 것은 무엇이라고 생각하는가?
    2. 자신이 자주 사용하는 프롬프트를 5요소로 분석해보면?
    3. 제약 조건이 창의성을 방해할 수도 있지 않을까?
    4. 어떤 상황에서 역할 부여(Persona)가 가장 효과적일까?

---

## 관련 위키 문서

- [프롬프트](../wiki/concepts/prompt.md)
- [Few-shot Learning](../wiki/concepts/few-shot-learning.md)
- [Chain of Thought](../wiki/concepts/chain-of-thought.md)

---

## 참고 자료

[^1]: OpenAI. (2024). *Prompt Engineering Guide*. https://platform.openai.com/docs/guides/prompt-engineering
---

<div class="nav-buttons">
<a href="ch02-tools-ecosystem/" class="nav-button nav-prev">&larr; 이전: Chapter 2: 주요 도구와 생태계</a>
<a href="ch04-advanced-prompting/" class="nav-button nav-next">다음: Chapter 4: 고급 프롬프팅 기법 &rarr;</a>
</div>
